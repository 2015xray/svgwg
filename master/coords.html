<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional+edit//EN" "xhtml1-transitional+edit.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:edit="http://xmlns.grorg.org/SVGT12NG/">
<head>
  <title>Coordinate Systems, Transformations and Units</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <link rel="stylesheet"           title="Default"               type="text/css" media="screen" href="style/default_svg.css"/>
  <link rel="alternate stylesheet" title="No issues/annotations" type="text/css" media="screen" href="style/default_no_issues.css"/>
  <!--
  <link rel="alternate stylesheet" title="CSS3 Unmodified"       type="text/css" media="screen" href="style/default.css"/>
  <link rel="alternate stylesheet" title="SVG 1.1"               type="text/css" media="screen" href="style/svg-style.css"/>
  -->
  <!-- W3C style sheet will be added here during processing. -->
</head>
<body>

<h1>Coordinate Systems, Transformations and Units</h1>

<h2 id="Introduction">Introduction</h2>

<dl class='definitions'  data-dfn-type="dfn" data-export="">

  <dt id="TermCanvas">canvas</dt>
  <dd>A surface onto which graphics elements are drawn, which
  can be real physical media such as a display or paper or an
  abstract surface such as a allocated region of computer
  memory.</dd>

  <dt id="TermSVGCanvas">SVG canvas</dt>
  <dd>The <a>canvas</a> onto which the SVG
  content is rendered.</dd>

  <dt id="TermSVGViewport">SVG viewport</dt>
  <dd>The <a>viewport</a> within the
  <a>SVG canvas</a> which defines the rectangular region
  into which SVG content is rendered. See the discussion of the
  <a>SVG viewport</a> in the chapter on
  <a href="coords.html">Coordinate Systems, Transformations and Units</a>.</dd>
 
</dl>

<p>For all media, the <dfn id="SVGCanvas">SVG canvas</dfn>
describes "the space where the SVG content is rendered." The
canvas is infinite for each dimension of the space, but
rendering occurs relative to a finite rectangular region of the
canvas. This finite rectangular region is called the <dfn>SVG viewport</dfn>.
For <a href='http://www.w3.org/TR/2011/REC-CSS2-20110607/media.html#visual-media-group'>visual media</a>
([<a href='refs.html#ref-CSS21'>CSS21</a>], section 7.3.1)
the SVG viewport is the viewing area where the user sees the SVG content.</p>

<p class="issue" data-issue="1">The above paragraph and definitions need to be merged.</p>

<p>The size of the SVG viewport (i.e., its width and height) is
determined by a negotiation process (see <a
href="#ViewportSpace">Establishing the size of the initial
viewport</a>) between the SVG document fragment and its parent
(real or implicit). Once that negotiation process is completed,
the SVG user agent is provided the following information:</p>

<ul>
  <li>a number (usually an integer) that represents the width
  in CSS pixels of the viewport</li>

  <li>a number (usually an integer) that represents the height
  in CSS pixels of the viewport</li>

</ul>

<p id="SVGInitialUserCoordinateSystem">Using the above information, the SVG user agent determines
the <a>viewport</a>, an initial <a>viewport coordinate system</a> and an
initial <a>user coordinate system</a>
such that the two coordinates systems are identical. Both
coordinates systems are established such that the origin
matches the origin of the viewport (for the root viewport, the
viewport origin is at the top/left corner), and one unit in the
initial coordinate system equals one CSS pixel in the <a>viewport</a>.
(See <a href="coords.html#InitialCoordinateSystem">Initial
coordinate system</a>.) The viewport coordinate system is also
called <a>viewport space</a> and the user coordinate system is also called
<a>user space</a>.</p>

<p>New SVG viewports can be established. By <a
href="#EstablishingANewSVGViewport">establishing a new
viewport</a>, you can redefine the meaning of percentages units
and provide a new reference rectangle for "fitting" a graphic
relative to a particular rectangular area.</p>

<h2 id="ViewportSpace">The initial viewport</h2>

<p id="SVGViewport">SVG content can be
embedded (by reference or inline) within a containing document. This containing
document might include attributes, properties and/or other
parameters (explicit or implicit) which specify or provide
hints about the dimensions of the viewport for the SVG content.
SVG content itself optionally can provide information about the
appropriate viewport region for the content via the <a>'width'</a>
and <a>'height'</a> presentation attributes on the <a>outermost svg element</a>.
If SVG is embedded within a containing element.</p>

<p>The <a>'width'</a> presentation attribute on the
<a>outermost svg element</a>
establishes the viewport's width, unless the following
conditions are met:</p>

<ul>
  <li>the SVG content is a separately stored resource that is
  embedded by reference (such as the <span
  class="element-name">'object'</span> element in HTML), or the SVG
  content is embedded inline within a containing document;</li>

  <li>and the referencing element or containing document is
  styled using CSS [<a href="refs.html#ref-CSS21">CSS21</a>] or
  XSL [<a href="refs.html#ref-XSL">XSL</a>];</li>

  <li>and there are <a href="http://www.w3.org/TR/2011/REC-CSS2-20110607/visuren.html#positioning-scheme">CSS-compatible positioning properties</a>
  ([<a href="refs.html#ref-CSS21">CSS21</a>], section 9.3)
   specified on the referencing element (e.g.,
  the <span class="element-name">'object'</span> element) or on
  the containing document's <a>outermost svg element</a> that are sufficient
  to establish the width of the viewport.</li>
</ul>

<p>Under these conditions, the positioning properties establish
the viewport's width.</p>

<p>Similarly, if there are
<a href="http://www.w3.org/TR/2011/REC-CSS2-20110607/visuren.html#positioning-scheme">positioning properties</a>
specified on the referencing element or on the
<a>outermost svg element</a> that are
sufficient to establish the height of the viewport, then these
positioning properties establish the viewport's height;
otherwise, the <a>'height'</a> presentation attribute
on the <a>outermost svg element</a>
establishes the viewport's height.</p>

<p>If the <a>'width'</a> or <a>'height'</a>
presentation attributes on the <a>outermost svg element</a>
are in <a>user units</a> (i.e., no unit
identifier has been provided), then the value is assumed to be
equivalent to the same number of "px" units (see <a
href="coords.html#Units">Units</a>).</p>

<div class="example">
<p>In the following example, an SVG graphic is embedded inline
within a parent XML document which is formatted using CSS
layout rules. Since CSS positioning properties are not provided
on the <a>outermost svg element</a>,
the <span class="attr-value">width="100px"</span> and
<span class="attr-value">height="200px"</span> attributes
determine the size of the initial viewport:</p>

<pre>
&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;parent xmlns="http://some.url"&gt;
   
   &lt;!-- SVG graphic --&gt;
   &lt;svg xmlns='http://www.w3.org/2000/svg'
      width="100px" height="200px"&gt;
      &lt;path d="M100,100 Q200,400,300,100"/&gt;
      &lt;!-- rest of SVG graphic would go here --&gt;
   &lt;/svg&gt;   
   
&lt;/parent&gt;
</pre>
</div>

<p>The initial clipping path for the SVG document fragment is
established according to the rules described in <a
href="render.html#InitialClippingPath">The initial clipping
path</a>.</p>

<h2 id="InitialCoordinateSystem">The initial coordinate system</h2>

<p>For the <a>outermost svg element</a>, the SVG user
agent determines an initial <a>viewport coordinate system</a> and an
initial <a>user coordinate system</a> such that the
two coordinates systems are identical. The origin of both
coordinate systems is at the origin of the viewport, and one
unit in the initial coordinate system equals one "pixel" (i.e.,
a <em>px</em> unit <a href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#length-units">as defined in CSS 2.1</a>
([<a href="refs.html#ref-CSS21">CSS21</a>], section 4.3.2)
in the viewport. In most cases, such as
stand-alone SVG documents or SVG document fragments embedded
(by reference or inline) within XML parent documents where the parent's
layout is determined by CSS [<a href="refs.html#ref-CSS21">CSS21</a>] or
XSL [<a href="refs.html#ref-XSL">XSL</a>], the initial viewport
coordinate system (and therefore the initial user coordinate
system) has its origin at the top/left of the viewport, with
the positive x-axis pointing towards the right, the positive
y-axis pointing down, and text rendered with an "upright"
orientation, which means glyphs are oriented such that Roman
characters and full-size ideographic characters for Asian
scripts have the top edge of the corresponding glyphs oriented
upwards and the right edge of the corresponding glyphs oriented
to the right.</p>

<p>If the SVG implementation is part of a user agent which
supports styling XML documents using CSS 2.1 compatible
<em>px</em> units, then the SVG user agent should get its
initial value for the size of a <em>px</em> unit in real world
units to match the value used for other XML styling operations;
otherwise, if the user agent can determine the size of a
<em>px</em> unit from its environment, it should use that
value; otherwise, it should choose an appropriate size for one
<em>px</em> unit. In all cases, the size of a <em>px</em> must
be in conformance with <a href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#length-units">the rules described in CSS 2.1</a>
([<a href="refs.html#ref-CSS21">CSS21</a>], section 4.3.2).</p>

<p id="ExampleInitialCoords"><span class="example-ref">Example InitialCoords</span> below
shows that the initial coordinate system has the origin at the
top/left with the x-axis pointing to the right and the y-axis
pointing down. The initial user coordinate system has one user
unit equal to the parent (implicit or explicit) user agent's
"pixel".</p>

<edit:example href='images/coords/InitialCoords.svg' name='InitialCoords' description="SVG's initial coordinate system" image='yes' link='yes'/>

<div class="ready-for-wider-review">

<h2 id="TransformProperty">The <span class="property">'transform'</span> property</h2>

<div class="note">See the CSS3 Transforms spec for the description of the <a>'transform'</a> property [<a href="refs.html#ref-CSS3TRANSFORMS">CSS3TRANSFORMS</a>].</div>

<h2 id="ViewBoxAttribute">The <span class="attr-name">'viewBox'</span> attribute</h2>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Lacuna value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="svg">viewBox</dfn></td>
        <td>[<span class="attr-value">&lt;min-x&gt;</span> <span class="attr-value">&lt;min-y&gt;</span> <span class="attr-value">&lt;width&gt;</span> <span class="attr-value">&lt;height&gt;</span>]</td>
        <td>As if not specified.</td>
        <td>yes</td>
      </tr>
    </table>
  </dt>
  <dd>
    <pre>&lt;min-x&gt;, &lt;min-x&gt;, &lt;width&gt;, &lt;height&gt; = <a>&lt;number&gt;</a></pre>
  </dd>
</dl>

<p class="annotation">Transform on the <a>'svg'</a> element is a bit special due to the <a>'viewBox'</a> attribute. The transform should be applied as if the <a>'svg'</a> had a parent element with that transform set.
<br/><br/><a href="http://www.w3.org/2015/01/08-svg-minutes.html">RESOLUTION: transform property applies conceptually to the outside of the 'svg' element and there is no difference between 
presentation attribute and style property</a> (in terms of the visual result).</p>

<p>It is often desirable to specify that a given set of
graphics stretch to fit a particular container element. The
<a>'viewBox'</a> attribute provides this
capability.</p>

<p>All elements that establish a new viewport (see <a
href="coords.html#ElementsThatEstablishViewports">elements that
establish viewports</a>), plus the
<a>'marker element'</a>,
<a>'pattern'</a> and
<a>'view'</a>
elements have attribute
<a>'viewBox'</a>. The value of the <a>'viewBox'</a> attribute is a list of four
numbers <span class="attr-value">&lt;min-x&gt;</span>, <span
class="attr-value">&lt;min-y&gt;</span>, <span
class="attr-value">&lt;width&gt;</span> and <span
class="attr-value">&lt;height&gt;</span>, separated by
whitespace and/or a comma, which specify a rectangle in user
space which should be mapped to the bounds of the viewport
established by the given element, taking into account attribute
<a>'preserveAspectRatio'</a>. If specified,
an additional transformation is applied to all descendants of
the given element to achieve the specified effect.</p>

<p>A negative value for <span
class="attr-value">&lt;width&gt;</span> or <span
class="attr-value">&lt;height&gt;</span> is an error (see <a
href="implnote.html#ErrorProcessing">Error processing</a>). A
value of zero disables rendering of the element.</p>

<div class="example">
<p id="ExampleViewBox"><span class="example-ref">Example ViewBox</span> illustrates
the use of the <a>'viewBox'</a> attribute
on the <a>outermost svg element</a> to specify that
the SVG content should stretch to fit bounds of the
viewport.</p>

<pre>
&lt;?xml version="1.0" standalone="no"?&gt;
&lt;svg width="300px" height="200px"
     viewBox="0 0 1500 1000" preserveAspectRatio="none"
     xmlns="http://www.w3.org/2000/svg"&gt;
  &lt;desc&gt;Example ViewBox - uses the viewBox 
   attribute to automatically create an initial user coordinate
   system which causes the graphic to scale to fit into the
   viewport no matter what size the viewport is.&lt;/desc&gt;
  &lt;!-- This rectangle goes from (0,0) to (1500,1000) in user space.
       Because of the viewBox attribute above,
       the rectangle will end up filling the entire area
       reserved for the SVG content. --&gt;
  &lt;rect x="0" y="0" width="1500" height="1000" 
        fill="yellow" stroke="blue" stroke-width="12"  /&gt;
  &lt;!-- A large, red triangle --&gt;
  &lt;path fill="red"  d="M 750,100 L 250,900 L 1250,900 z"/&gt;
  &lt;!-- A text string that spans most of the viewport --&gt;
  &lt;text x="100" y="600" font-size="200" font-family="Verdana" &gt;
    Stretch to fit
  &lt;/text&gt;
&lt;/svg&gt;
</pre>

<table >
  <caption>
    Example ViewBox
  </caption>
  <tr>
    <th>Rendered into<br />
     viewport with<br />
     width=300px,<br />
     height=200px</th>
    <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
    <th>Rendered into<br />
     viewport with<br />
     width=150px,<br />
     height=200px</th>
  </tr>
  <tr>
    <td><img alt="Example ViewBox - stretch to fit 300 by 200"
    src="images/coords/ViewBox.png" width="300"
    height="200" /></td>
    <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
    <td><img alt="Example ViewBox - stretch to fit 150 by 200"
    src="images/coords/ViewBox-Width150.png" width="150"
    height="200" /></td>
  </tr>
</table>

<p class="view-as-svg"><a href="images/coords/ViewBox.svg">View
this example as SVG (SVG-enabled browsers only)</a><br />
 &nbsp;</p>

<p>The effect of the <a>'viewBox'</a>
attribute is that the user agent automatically supplies the
appropriate transformation matrix to map the specified
rectangle in user space to the bounds of a designated region
(often, the viewport). To achieve the effect of the example on
the left, with viewport dimensions of 300 by 200 pixels, the
user agent needs to automatically insert a transformation which
scales both X and Y by 0.2. The effect is equivalent to having
a viewport of size 300px by 200px and the following
supplemental transformation in the document, as follows:</p>

<pre>
&lt;?xml version="1.0" standalone="no"?&gt;
&lt;svg width="300px" height="200px"
     xmlns="http://www.w3.org/2000/svg"&gt;
  <strong>&lt;g transform="scale(0.2)"&gt;</strong>
    &lt;!-- Rest of document goes here --&gt;
  <strong>&lt;/g&gt;</strong>
&lt;/svg&gt;
</pre>

<p>To achieve the effect of the example on the right, with
viewport dimensions of 150 by 200 pixels, the user agent needs
to automatically insert a transformation which scales X by 0.1
and Y by 0.2. The effect is equivalent to having a viewport of
size 150px by 200px and the following supplemental
transformation in the document, as follows:</p>

<pre>
&lt;?xml version="1.0" standalone="no"?&gt;
&lt;svg width="150px" height="200px"
     xmlns="http://www.w3.org/2000/svg"&gt;
  <strong>&lt;g transform="scale(0.1 0.2)"&gt;</strong>
    &lt;!-- Rest of document goes here --&gt;
  <strong>&lt;/g&gt;</strong>
&lt;/svg&gt;
</pre>
</div>

<div class="note">
<p>Note that in some cases the user agent will need to supply a
<strong>translate</strong> transformation in addition to a
<strong>scale</strong> transformation. For example, on an
<a>outermost svg element</a>, a
<strong>translate</strong> transformation will be needed if the
<a>'viewBox'</a> attributes specifies
values other than zero for <span
class="attr-value">&lt;min-x&gt;</span> or <span
class="attr-value">&lt;min-y&gt;</span>.</p>
</div>

<p>If both <a>'transform'</a> (or <a>'pattern/patternTransform'</a>)
and <a>'viewBox'</a> are applied to an element two new coordinate
systems are established. <a>'transform'</a> establishes the first new
coordinate system for the element. <a>'viewBox'</a>
establishes a second coordinate system for all descendants of
the element. The first coordinate system is post-multiplied by the
second coordinate system.</p>

<p id="ViewBoxAttributeEffectOnSiblingAttributes">Unlike the
<a>'transform'</a> property,
the automatic transformation that is created
due to a <a>'viewBox'</a> does not affect
the <span class="attr-name">'x'</span>, <span
class="attr-name">'y'</span>, <span
class="attr-name">'width'</span> and <span
class="attr-name">'height'</span> attributes (or in the case of
the <a>'marker element'</a> element, the
<a>'marker/markerWidth'</a> and <a>'marker/markerHeight'</a> attributes) on the
element with the <a>'viewBox'</a>
attribute. Thus, in the example above which shows an
<a>'svg'</a> element which has
<a>'width'</a> and <a>'height'</a> presentation attributes
and a <a>'viewBox'</a> attribute,
the <a>'width'</a> and <a>'height'</a>
represent values in the coordinate system that exists <em>before</em> the
<a>'viewBox'</a> transformation is applied. On
the other hand, like the <a>'transform'</a> property, it does
establish a new coordinate system for all other attributes and
for descendant elements.</p>

<h2 id="PreserveAspectRatioAttribute">The <span class="attr-name">'preserveAspectRatio'</span>
attribute</h2>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Lacuna value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="svg">preserveAspectRatio</dfn></td>
        <td><span class="attr-value">defer</span>? <span class="attr-value">&lt;align&gt;</span> <span class="attr-value">&lt;meetOrSlice&gt;</span>?</td>
        <td>xMidYMid meet</td>
        <td>yes</td>
      </tr>
    </table>
  </dt>
  <dd>
    <pre>&lt;align&gt; = none | xMinYMin | xMidYMin | xMaxYMin | xMinYMid | xMidYMid | xMaxYMid | xMinYMax | xMidYMax | xMaxYMax</pre>
    <pre>&lt;meetOrSlice&gt; = meet | slice</pre>
    <p>Indicates whether or not to force uniform scaling. Applies to all
    elements that establish a new viewport (see <a
    href="coords.html#ElementsThatEstablishViewports">elements that
    establish viewports</a>), plus the
    <a>'image'</a>,
    <a>'marker element'</a>,
    <a>'pattern'</a> and
    <a>'view'</a> elements</p>
  </dd>
</dl>

<p>In some cases, typically when using the
<a>'viewBox'</a> attribute, it is desirable that the graphics stretch to
fit non-uniformly to take up the
entire viewport. In other cases, it is desirable that uniform
scaling be used for the purposes of preserving the aspect ratio
of the graphics.</p>

<p class="issue" data-issue="10">Is 'defer' supported in enough UAs and is it a compelling enough use-case to warrant it being kept?</p>

<p>For elements that establish a new viewport (see <a
href="coords.html#ElementsThatEstablishViewports">elements that
establish viewports</a>), plus the
<a>'marker element'</a>,
<a>'pattern'</a> and
<a>'view'</a> elements,
<a>'preserveAspectRatio'</a> only applies when
a value has been provided for <a>'viewBox'</a>
on the same element. For these elements, if attribute
<a>'viewBox'</a> is not provided, then
<a>'preserveAspectRatio'</a> is ignored.</p>

<p>For <a>'image'</a> elements,
<a>'preserveAspectRatio'</a> indicates how
referenced images should be fitted with respect to the
reference rectangle and whether the aspect ratio of the
referenced image should be preserved with respect to the
current user coordinate system.</p>

<p>If the value of <a>'preserveAspectRatio'</a> on an
<a>'image'</a> element starts with <span class='attr-value'>'defer'</span> then the value of the
<a>'preserveAspectRatio'</a> attribute on the
referenced content if present should be used. If the
referenced content lacks a value for
<a>'preserveAspectRatio'</a> then the
<a>'preserveAspectRatio'</a> attribute should
be processed as normal (ignoring <span class='attr-value'>'defer'</span>).
For <a>'preserveAspectRatio'</a> on all other
elements the <span class='attr-value'>'defer'</span> portion of the attribute is ignored.</p>

<p id="DataTypeAlign">The <span class="attr-value">&lt;align&gt;</span> parameter
indicates whether to force uniform scaling and, if so, the
alignment method to use in case the aspect ratio of the <a>'viewBox'</a>
 doesn't match the aspect ratio of the viewport. The <span
class="attr-value">&lt;align&gt;</span> parameter must be one
of the following strings:</p>

<ul>
  <li><span class="attr-value">none</span> - Do not force
  uniform scaling. Scale the graphic content of the given
  element non-uniformly if necessary such that the element's
  bounding box exactly matches the viewport rectangle.<br />
   (Note: if <span class="attr-value">&lt;align&gt;</span> is
  <span class="attr-value">none</span>, then the optional <span
  class="attr-value">&lt;meetOrSlice&gt;</span> value is
  ignored.)</li>

  <li><span class="attr-value">xMinYMin</span> - Force uniform
  scaling.<br />
   Align the <span class="attr-value">&lt;min-x&gt;</span> of
  the element's <a>'viewBox'</a> with the smallest X
  value of the viewport.<br />
   Align the <span class="attr-value">&lt;min-y&gt;</span> of
  the element's <a>'viewBox'</a> with the smallest Y
  value of the viewport.</li>

  <li><span class="attr-value">xMidYMin</span> - Force uniform
  scaling.<br />
   Align the midpoint X value of the element's
   <a>'viewBox'</a> with the midpoint X value of the viewport.<br />
   Align the <span class="attr-value">&lt;min-y&gt;</span> of
  the element's <a>'viewBox'</a> with the smallest Y
  value of the viewport.</li>

  <li><span class="attr-value">xMaxYMin</span> - Force uniform
  scaling.<br />
   Align the <span
  class="attr-value">&lt;min-x&gt;+&lt;width&gt;</span> of the
  element's <a>'viewBox'</a> with the maximum X value
  of the viewport.<br />
   Align the <span class="attr-value">&lt;min-y&gt;</span> of
  the element's <a>'viewBox'</a> with the smallest Y
  value of the viewport.</li>

  <li><span class="attr-value">xMinYMid</span> - Force uniform
  scaling.<br />
   Align the <span class="attr-value">&lt;min-x&gt;</span> of
  the element's <a>'viewBox'</a> with the smallest X
  value of the viewport.<br />
   Align the midpoint Y value of the element's <a>'viewBox'</a>
   with the midpoint Y
  value of the viewport.</li>

  <li><span class="attr-value">xMidYMid</span> (the <a>lacuna value</a>) -
  Force uniform scaling.<br />
   Align the midpoint X value of the element's <a>'viewBox'</a>
   with the midpoint X value of the viewport.<br />
   Align the midpoint Y value of the element's <a>'viewBox'</a>
   with the midpoint Y value of the viewport.</li>

  <li><span class="attr-value">xMaxYMid</span> - Force uniform
  scaling.<br />
   Align the <span
  class="attr-value">&lt;min-x&gt;+&lt;width&gt;</span> of the
  element's <a>'viewBox'</a>
   with the maximum X value of the viewport.<br />
   Align the midpoint Y value of the element's <a>'viewBox'</a>
   with the midpoint Y
  value of the viewport.</li>

  <li><span class="attr-value">xMinYMax</span> - Force uniform
  scaling.<br />
   Align the <span class="attr-value">&lt;min-x&gt;</span> of
  the element's <a>'viewBox'</a> with the smallest X
  value of the viewport.<br />
   Align the <span
  class="attr-value">&lt;min-y&gt;+&lt;height&gt;</span> of the
  element's <a>'viewBox'</a> with the maximum Y value
  of the viewport.</li>

  <li><span class="attr-value">xMidYMax</span> - Force uniform
  scaling.<br />
   Align the midpoint X value of the element's <a>'viewBox'</a>
   with the midpoint X value of the viewport.<br />
   Align the <span
  class="attr-value">&lt;min-y&gt;+&lt;height&gt;</span> of the
  element's <a>'viewBox'</a> with the maximum Y value
  of the viewport.</li>

  <li><span class="attr-value">xMaxYMax</span> - Force uniform
  scaling.<br />
   Align the <span
  class="attr-value">&lt;min-x&gt;+&lt;width&gt;</span> of the
  element's <a>'viewBox'</a> with the maximum X value
  of the viewport.<br />
   Align the <span
  class="attr-value">&lt;min-y&gt;+&lt;height&gt;</span> of the
  element's <a>'viewBox'</a> with the maximum Y value
  of the viewport.</li>
</ul>

<p>The <span class="attr-value">&lt;meetOrSlice&gt;</span>
parameter is optional and, if provided, is separated from the
<span class="attr-value">&lt;align&gt;</span> value by one or
more spaces and then must be one of the following strings:</p>

<ul>
  <li>
    <p><span class="attr-value">meet</span> (the default) - Scale
    the graphic such that:</p>

    <ul>
      <li>aspect ratio is preserved</li>
      <li>the entire <a>'viewBox'</a> is visible within
      the viewport</li>
      <li>the <a>'viewBox'</a> is scaled up as much
      as possible, while still meeting the other criteria</li>
    </ul>

    <p>In this case, if the aspect ratio of the graphic does not
    match the viewport, some of the viewport will extend beyond
    the bounds of the <a>'viewBox'</a> (i.e., the area into
    which the <a>'viewBox'</a> will draw will be
    smaller than the viewport).</p>
  </li>

  <li>
    <p><span class="attr-value">slice</span> - Scale the graphic
    such that:</p>

    <ul>
      <li>aspect ratio is preserved</li>
      <li>the entire viewport is covered by the <a>'viewBox'</a></li>
      <li>the <a>'viewBox'</a> is scaled down as
      much as possible, while still meeting the other
      criteria</li>
    </ul>

    <p>In this case, if the aspect ratio of the <a>'viewBox'</a> does not match the
    viewport, some of the <a>'viewBox'</a> will extend beyond the
    bounds of the viewport (i.e., the area into which the <a>'viewBox'</a> will draw is larger
    than the viewport).</p>
  </li>
</ul>

<div class="example">
<p id="ExamplePreserveAspectRatio"><span class="example-ref">Example PreserveAspectRatio</span>
illustrates the various options on <a>'preserveAspectRatio'</a>. 
The example creates several new viewports by
including <a>'svg'</a> sub-elements embedded
inside the <a>outermost svg element</a> (see <a
href="coords.html#EstablishingANewSVGViewport">Establishing a new
viewport</a>).</p>

<edit:includefile href='images/coords/PreserveAspectRatio.svg' name='PreserveAspectRatio' description="demonstrate available options" image='yes' link='yes'/>
<div class="figure"><img alt="Example PreserveAspectRatio — demonstrate available options" src="images/coords/PreserveAspectRatio.png"/><p class="caption">Example PreserveAspectRatio</p></div>
</div>

<h2 id="EstablishingANewSVGViewport">Establishing a new SVG viewport</h2>

<p class="note">Note that this section handles the SVG viewport which
is different from the term "viewport" in CSS.</p>

<p>At any point in an SVG drawing, you can establish a new
SVG viewport into which all contained graphics is drawn by
including an <a>'svg'</a> element
inside SVG content. By establishing a new SVG viewport, you also
implicitly establish a new viewport coordinate system, a new
user coordinate system, and, potentially, a new clipping path
(see the definition of the <a>'overflow'</a> property).
Additionally, there is a new meaning for percentage units
defined to be relative to the current SVG viewport since a new
SVG viewport has been established (see <a
href="coords.html#Units">Units</a>).</p>

<p class="issue" data-issue="28">Remove clipping path and <a>'overflow'</a> mentioning?.</p>

<p>The bounds of the new SVG viewport are defined by the <span
class="attr-name">'x'</span>, <span class="attr-name">'y'</span>,
<span class="attr-name">'width'</span> and <span
class="attr-name">'height'</span> attributes on the element
establishing the new SVG viewport, such as an <a>'svg'</a> element. Both the new
viewport coordinate system and the new user coordinate system
have their origins at (<span class="attr-name">'x'</span>, <span
class="attr-name">'y'</span>), where <span
class="attr-name">'x'</span> and <span class="attr-name">'y'</span>
represent the value of the corresponding attributes on the
element establishing the SVG viewport. The orientation of the new
viewport coordinate system and the new user coordinate system
correspond to the orientation of the current user coordinate
system for the element establishing the SVG viewport. A single unit
in the new viewport coordinate system and the new user
coordinate system are the same size as a single unit in the
current user coordinate system for the element establishing the SVG
viewport.</p>

<div class="example">
<p>Here is an example:</p>

<pre>
&lt;?xml version="1.0" standalone="no"?&gt;
&lt;svg width="4in" height="3in"
     xmlns="http://www.w3.org/2000/svg"&gt;
  &lt;desc&gt;This SVG drawing embeds another one,
    thus establishing a new SVG viewport
  &lt;/desc&gt;
  &lt;!-- The following statement establishing a new SVG viewport
       and renders SVG drawing B into that viewport --&gt;
  &lt;svg x="25%" y="25%" width="50%" height="50%"&gt;
     &lt;!-- drawing B goes here --&gt;
  &lt;/svg&gt;
&lt;/svg&gt;
</pre>

<p>For an extensive example of creating new SVG viewports, see <a
href="coords.html#ExamplePreserveAspectRatio">Example
PreserveAspectRatio</a>.</p>
</div>

<p id="ElementsThatEstablishViewports">The following elements establish new SVG viewports:</p>

<ul>
  <li>The <a>'svg'</a> element</li>

  <li>A <a>'symbol'</a> element define new
  viewports whenever they are instanced by a <a>'use'</a> element.</li>

  <li>An <a>'image'</a> element that
  references an SVG file will result in the establishment of a
  temporary new SVG viewport since the referenced resource by
  definition will have an <a>'svg'</a> element.</li>
  
  <li>An <a>'iframe'</a> element that references an SVG file establishes new SVG viewport like the situation of <a>'image'</a> element.</li>

  <li>A <a>'foreignObject'</a> element
  creates a new SVG viewport for rendering the content that is
  within the element. (It also creates a new initial containing block.)</li>
</ul>

<p>Whether a new SVG viewport also establishes a new additional
clipping path is determined by the value of the <a>'overflow'</a> property on the element
that establishes the new SVG viewport.</p>

<h2 id="Units">Units</h2>

<p>SVG follows the description and definition of common values and
units from the CSS Values and Units Module
[<a href="refs.html#ref-CSS3VALUES">CSS3VALUES</a>] for attributes,
presentation attributes and CSS properties. Each attribute and property
must specify the used component value type. Subsequent or extending
specifications published by the CSS WG or SVG WG may extend basic data
types or add new data types.</p>

<p>For <a>&lt;percentage&gt;</a> values that are defined to be relative
to the size of viewport:</p>

<ul>
  <li>For any x-coordinate value or width value expressed as a
  percentage of the viewport, the value to use is the specified
  percentage of the <em>actual-width</em> in user units for the
  nearest containing viewport, where <em>actual-width</em> is
  the width dimension of the viewport element within the user
  coordinate system for the viewport element.</li>
  <li>For any y-coordinate value or height value expressed as a
  percentage of the viewport, the value to use is the specified
  percentage of the <em>actual-height</em> in user units for
  the nearest containing viewport, where <em>actual-height</em>
  is the height dimension of the viewport element within the
  user coordinate system for the viewport element.</li>
  <li id="Units_viewport_percentage">For any other length value expressed as a percentage of
  the viewport, the percentage is calculated as the specified
  percentage of <code>sqrt((<em>actual-width</em>)**2 +
  (<em>actual-height</em>)**2)/sqrt(2)</code>.</li>
</ul>

<div class="example">
<p id="ExampleUnits"><span class="example-ref">Example Units</span> below
illustrates some of the processing rules for different types of
units.</p>

<edit:includefile href='images/coords/Units.svg' name='PreserveAspectRatio' description="demonstrate available options" image='yes' link='yes'/>
<div class="figure"><img alt="Example Units — demonstrate available options" src="images/coords/Units.png"/><p class="caption">Example Units</p></div>

<p>The three rectangles on the left demonstrate the use of one
of the absolute unit identifiers, the "in" unit (inch). CSS defines 1
inch to be equal to 96 pixels. Therefore, the topmost rectangle, which is
specified in inches, is exactly the same size as the middle
rectangle, which is specified in user units such that there are
96 user units for each corresponding inch in the topmost
rectangle. The bottom rectangle of the group illustrates
what happens when values specified in inches are scaled.</p>

<p>The three rectangles in the middle demonstrate the use of
one of the relative unit identifiers, the "em" unit. Because
the <a>'font-size'</a> property has been set
to <span class="prop-value">150</span> on the outermost <a>'g'</a> element, each "em" unit is
equal to 150 user units. The topmost rectangle, which is
specified in "em" units, is exactly the same size as the middle
rectangle, which is specified in user units such that there are
150 user units for each corresponding "em" unit in the topmost
rectangle. The bottom rectangle of the group illustrates what
happens when values specified in "em" units are scaled.</p>

<p>The three rectangles on the right demonstrate the use of
percentages. Note that the width and height of the viewport in
the user coordinate system for the viewport element (in this
case, the <a>outermost svg element</a>) are 4000 and
2000, respectively, because processing the <a>'viewBox'</a> attribute results in a
transformed user coordinate system. The topmost rectangle,
which is specified in percentage units, is exactly the same
size as the middle rectangle, which is specified in equivalent
user units. In particular, note that the <a>'stroke-width'</a> property in the
middle rectangle is set to 1% of the
<code>sqrt((<em>actual-width</em>)**2 +
(<em>actual-height</em>)**2) / sqrt(2)</code>, which in this
case is .01*sqrt(4000*4000+2000*2000)/sqrt(2), or 31.62. The
bottom rectangle of the group illustrates what happens when
values specified in percentage units are scaled.</p>
</div>

<h2 id="BoundingBoxes">Bounding boxes</h2>

<dl class='definitions'  data-dfn-type="dfn" data-export="">

  <dt id="TermBoundingBox"><dfn id="bounding-box">bounding box</dfn></dt>
  <dd>
      <p>The bounding box (or "bbox") of an element is the tightest fitting rectangle
      aligned with the axes of that element's user coordinate system that entirely
      encloses it and its descendants.</p>
  </dd>
</dl>

<p>Three kinds of bounding boxes can be computed for an element:</p>

<ol>
  <li>The <dfn id="TermObjectBoundingBox" data-dfn-type="dfn" data-export="">object bounding box</dfn> is the bounding box that contains only
  an element's geometric shape.  For <a>basic shapes</a>, this is the area
  that is filled.  Unless otherwise specified, this is what is meant by the
  unqualified term "bounding box".</li>

  <li>The <dfn id="TermStrokeBoundingBox" data-dfn-type="dfn" data-export="">stroke bounding box</dfn> is the bounding box that contains
  an element's geometric shape and its <a>stroke shape</a>.</li>

  <li>The <dfn id="TermDecoratedBoundingBox" data-dfn-type="dfn" data-export="">decorated bounding box</dfn> is the bounding box that contains 
  an element's geometric shape, its <a>stroke shape</a> and its <a>markers</a>.</li>
</ol>

<p class='note'>Note that the values of the <a>'opacity'</a>, <a>'visibility'</a>, <a>'fill'</a>,
<a>'fill-opacity'</a>, <a>'fill-rule'</a>, <a>'stroke-dasharray'</a>
and <a>'stroke-dashoffset'</a> properties on an element have no effect on the
bounding box of an element.</p>

<p>For curved shapes, the bounding box must enclose all portions of the shape
along the edge, not just end points. Note that control points for a curve which
are not defined as lying along the line of the resulting curve (e.g., the second
coordinate pair of a Cubic Bézier command) must not contribute to the dimensions
of the bounding box (though those points may fall within the area of the
bounding box, if they lie within the shape itself, or along or close to the
curve). For example, control points of a curve that are at a further distance
than the curve edge, from the non-enclosing side of the curve edge, must be
excluded from the bounding box.</p>

<div class="figure">
  <img src="images/coords/bbox01.svg"
       alt="Image showing the object bounding box of a quadratic Bézier curve." />
  <p class="caption">The path <span class='attr-value'>'M20,50 L35,100 H120 V50 Q70,10 20,50'</span>
  is shown in light blue.  On the left, a correct object bounding box of the path is
  shown.  Note that it does not include the top-most control point of the curve, but
  it does include all of the blue shape, even the parts that lie outside of the convex hull
  of the control points.</p>
</div>

<p>Even if an element is not in the rendering tree – due to it being
<span class='prop-value'>'display: none'</span>, within a <a>'defs'</a>
element, not usually rendered like a <a>'symbol'</a> element or not
currently present in the document tree – it still has a bounding box.
A call to <a href="types.html#__svg__SVGGraphicsElement__getBBox">getBBox</a>
on the element will return the same rectangle as if the element were
rendered.  However, an element that is not in the rendering tree
does not contribute to the bounding box of any ancestor element.</p>

<div class='example'>
  <p>The following example defines a number of elements.  The expected
  <a>object bounding box</a> for each element with an ID is shown below.</p>

  <edit:includefile href='images/coords/bbox-calc.svg'/>

  <table class='vert'>
    <thead>
      <tr>
        <th>Element ID</th>
        <th>Bounding Box Result</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>"<code>defs-1</code>"</td>
        <td>{0, 0, 0, 0}</td>
      </tr>
      <tr>
        <td>"<code>rect-1</code>"</td>
        <td>{20, 20, 40, 40}</td>
      </tr>
      <tr>
        <td>"<code>group-1</code>"</td>
        <td>{30, 30, 40, 40}</td>
      </tr>
      <tr>
        <td>"<code>use-1</code>"</td>
        <td>{30, 30, 40, 40}</td>
      </tr>
      <tr>
        <td>"<code>group-2</code>"</td>
        <td>{10, 10, 100, 100}</td>
      </tr>
      <tr>
        <td>"<code>rect-2</code>"</td>
        <td>{10, 10, 100, 100}</td>
      </tr>
    </tbody>
  </table>
</div>

<p>For <a>text content elements</a>, for the purposes of the bounding box
calculation, each glyph must be treated as a separate graphics element.
he calculations must assume that all glyphs occupy the full glyph cell.
For example, for horizontal text, the calculations must assume that each glyph
extends vertically to the full ascent and descent values for the font.
An exception to this is when the <a>'text/extent'</a>
attribute has been specified on the <a>'text'</a> element, in which case the
element's <a>content area</a> is its bounding box.</p>

<p>Because declarative or scripted animation can change the shape, size, and
position of an element, the bounding box is mutable. Thus, the bounding box
for an element shall reflect the current values for the element at the snapshot
in time at which the bounding box is requested, whether through a script call
or as part of a declarative or linking syntax.</p>

<p>An element which has zero width, zero height, or both (such as a
vertical or horizontal line, or a <a>'rect'</a> element with a zero
<a>'width'</a> or <a>'height'</a>) still has a bounding box, with a
positive value for the positive dimension, or with <span class='attr-value'>'0'</span>
for both the width and height if no positive dimension is specified. Similarly,
subpaths segments of a <a>'path'</a> element with zero width and height must be
included in that element's geometry for the sake of the bounding box.</p>

<edit:with element='path'>
<p class="ready-for-wider-review">An element with no position specified (such as a
<a>'path'</a> element with a value of (none) for the <a>'d'</a> attribute) is positioned at the
point (0,0) for the purposes of calculating a bounding box.</p>
</edit:with>

<p>Note that elements whose DOM object does not derive from <a>SVGGraphicsElement</a>
(such as gradient elements) do not have a bounding box, and thus have no
interface to request a bounding box.</p>

<p>Elements in the rendering tree which reference unresolved resources shall
still have a bounding box, defined by the position and dimensions specified in
their attributes, or by the <a>lacuna value</a> for those attributes if no
values are supplied. For example, the element <code>&lt;use href="#bad" x="10" y="10"/&gt;</code>
would have a bounding box with an x and y of 10 and a width and height of 0.</p>

<p>The following algorithm defines how to compute a bounding box for a given
element.  The inputs to the algorithm are:</p>

<ul>
  <li><var>element</var>, the element we are computing a bounding box for;</li>
  <li><var>space</var>, a coordinate space in which the bounding box will be computed;</li>
  <li><var>fill</var>, a boolean indicating whether the bounding box includes the geometry of the element and its descendants;</li>
  <li><var>stroke</var>, a boolean indicating whether the bounding box includes the stroke of the element and its descendants;</li>
  <li><var>markers</var>, a boolean indicating whether the bounding box includes the markers of the element and its descendants; and</li>
  <li><var>clipped</var>, a boolean indicating whether the bounding box is affected by any clipping paths applied to the element and its descendants.</li>
</ul>

<p class='issue' data-issue="14">Need to define what the union of rectangles with no area means.</p>

<p>The algorithm to compute the bounding box is as follows, depending on the type of <var>element</var>:</p>

<dl class="switch">
  <dt>a <a>shape</a></dt>
  <dt>a <a>text content element</a></dt>
  <dt>an <a>'a'</a> element within a <a>text content element</a></dt>
  <dd>
    <ol class="algorithm">
      <li>Let <var>box</var> be a rectangle initialized to (0, 0, 0, 0).</li>
      <li>Let <var>fill-shape</var> be the <a>equivalent path</a> of <var>element</var>
      if it is a <a>shape</a>, or a shape that includes each of the glyph cells corresponding
      to the text within the elements otherwise.
      <p class='issue' data-issue="15">Need to update this take into account <a>'text/extent'</a>
      on <a>'text'</a>.</p></li>
      <li>If <var>fill</var> is true, then set <var>box</var> to the tightest rectangle
      in the coordinate system <var>space</var> that contains <var>fill-shape</var>.
      <p class='note'>The values of the <a>'fill'</a>, <a>'fill-opacity'</a> and <a>'fill-rule'</a>
      properties do not affect <var>fill-shape</var>.</p></li>
      <li>If <var>stroke</var> is true and the element's <a>'stroke'</a> is anything other than
      <span class='prop-value'>none</span>, then set <var>box</var> to be the union of <var>box</var> and the
      tightest rectangle in coordinate system <var>space</var> that contains the <a href="painting.html#StrokeShape">stroke shape</a> of the
      element, with the assumption that the element has no dash pattern.
      <p class='note'>The values of the <a>'stroke-opacity'</a>, <a>'stroke-dasharray'</a>
      and <a>'stroke-dashoffset'</a> do not affect the calculation of the stroke shape.</p></li>
      <li>If <var>markers</var> is true, then for each marker <var>marker</var> rendered on the element:
        <ol>
          <li>For each descendant <a>graphics element</a> <var>child</var> of the <a>'marker element'</a> element
          that defines <var>marker</var>'s content:
            <ol>
              <li>If <var>child</var> has an ancestor element within the <a>'marker element'</a> that is
              <span class='prop-value'>'display: none'</span>, has a failing <a>conditional processing attribute</a>,
              or is not an <a>'a'</a>, <a>'g'</a>, <a>'svg'</a> or <a>'switch'</a> element, then
              continue to the next descendant <a>graphics element</a>.</li>
              <li>Otherwise, set <var>box</var> to be the union of <var>box</var> and the result of invoking the
              algorithm to compute a bounding box with <var>child</var> as the element,
              <var>space</var> as the target coordinate space, true for <var>fill</var>,
              <var>stroke</var> and <var>markers</var>, and <var>clipped</var> for <var>clipped</var>.
              <p class='issue' data-issue="16">Need to determine whether <span class='prop-value'>'display: none'</span> on the
              <a>'marker element'</a> element itself has any effect here.</p></li>
            </ol>
          </li>
        </ol>
      </li>
      <li>If <var>clipped</var> is true and the value of <a>'clip-path'</a> on <var>element</var> is not
      <span class='prop-value'>none</span>, then set <var>box</var> to be the tighest rectangle
      in coordinate system <var>space</var> that contains the intersection of <var>box</var> and the clipping path.</li>
      <li>Return <var>box</var>.</li>
    </ol>
  </dd>
  <dt>a <a>container element</a></dt>
  <dt><a>'use'</a></dt>
  <dd>
    <ol class="algorithm">
      <li>Let <var>box</var> be a rectangle initialized to (0, 0, 0, 0).</li>
      <li>Let <var>parent</var> be the <a>container element</a> if it is one, or the
      root of the <a>'use'</a> element's shadow tree otherwise.</li>
      <li>For each descendant <a>graphics element</a> <var>child</var> of <var>parent</var>:
        <ol>
          <li>If <var>child</var> has an ancestor element within <var>parent</var> that is
          <span class='prop-value'>'display: none'</span>, has a failing <a>conditional processing attribute</a>,
          or is not an <a>'a'</a>, <a>'g'</a>, <a>'svg'</a> or <a>'switch'</a> element, then
          continue to the next descendant <a>graphics element</a>.</li>
          <li>Otherwise, set <var>box</var> to be the union of <var>box</var> and the result of invoking the
          algorithm to compute a bounding box with <var>child</var> as the element
          and the same values for <var>space</var>, <var>fill</var>, <var>stroke</var>,
          <var>markers</var> and <var>clipped</var> as the corresponding algorithm input values.</li>
        </ol>
      </li>
      <li>Return <var>box</var>.</li>
    </ol>
  </dd>
  <dt><a>'canvas'</a></dt>
  <dt><a>'foreignObject'</a></dt>
  <dt><a>'iframe'</a></dt>
  <dt><a>'image'</a></dt>
  <dt><a>'video'</a></dt>
  <dd>
    <ol class="algorithm">
      <li>Return the tightest rectangle in coordinate space <var>space</var> that
      contains the rectangle defined by the 
      <span class='attr-name'>'x'</span>,
      <span class='attr-name'>'y'</span>,
      <span class='attr-name'>'width'</span> and
      <span class='attr-name'>'height'</span> attributes of the element.
      <p class='note'>The <var>fill</var>, <var>stroke</var> and <var>markers</var>
      input arguments to this algorithm do not affect the bounding box returned
      for these elements.</p>
      </li>
    </ol>
  </dd>
</dl>

<p>The <a>object bounding box</a>, <a>stroke bounding box</a> or <a>decorated bounding box</a>
of an element is the result of invoking the bounding box computation algorithm
above with the following arguments:
<var>element</var> is the element itself;
<var>space</var> is the element's user coordinate system;
<var>fill</var> is true;
<var>stroke</var> is true if we are computing the <a>stroke bounding box</a> or <a>decorated bounding box</a>, and false othwerise;
<var>markers</var> is true if we are computing the <a>decorated bounding box</a>, and false otherwise; and
<var>clipped</var> is false.</p>

</div>

<h2 id="ObjectBoundingBoxUnits">Object bounding box units</h2>

<p id="ObjectBoundingBox">The following elements offer the option of expressing
coordinate values and lengths as fractions (and, in some cases,
percentages) of the <a>bounding box</a>,
by setting a specified attribute to <span class="attr-value">'objectBoundingBox'</span>
on the given element:</p>

<p class="issue" data-issue="18">Need to invoke the bounding box computation algorithm from the previous
section with <var>fill</var> = true and the other options false.</p>

<table class='vert'>
  <tr>
    <th>Element</th>
    <th>Attribute</th>
    <th>Effect</th>
  </tr>
  <tr>
    <edit:with element='linearGradient'>
      <td><a>'linearGradient'</a></td>
      <td><a>'gradientUnits'</a></td>
      <td>Indicates that the attributes which specify the
      gradient vector (<a>'x1'</a>, <a>'y1'</a>, <a>'x2'</a>, <a>'y2'</a>) represent fractions or
      percentages of the bounding box of the element to which the
      gradient is applied.</td>
    </edit:with>
  </tr>
  <tr>
    <edit:with element='radialGradient'>
      <td><a>'radialGradient'</a></td>
      <td><a>'gradientUnits'</a></td>
      <td>Indicates that the attributes which specify the center
      (<a>'cx'</a>, <a>'cy'</a>), the radius (<a>'r'</a>) and focus
      (<a>'fx'</a>, <a>'fy'</a>) represent fractions or
      percentages of the bounding box of the element to which the
      gradient is applied.</td>
    </edit:with>
  </tr>
  <tr>
    <edit:with element='mesh'>
      <td><a>'mesh'</a></td>
      <td><a>'gradientUnits'</a></td>
      <td>Indicates that the attributes which specify the paint server mesh
      (<a>'x'</a>, <a>'y'</a>) represent fractions or percentages of the
      bounding box of the element to which the mesh is applied. (Gets ignored
      if the mesh is a graphics object)</td>
    </edit:with>
  </tr>
  <edit:with element='pattern'>
    <tr>
      <td><a>'pattern'</a></td>
      <td><a>'patternUnits'</a></td>
      <td>Indicates that the attributes which define how to tile the pattern
      (<a>'x'</a>, <a>'y'</a>, <a>'width'</a>, <a>'height'</a>) are
      established using the bounding box of the element to which the pattern
      is applied.</td>
    </tr>
    <tr>
      <td><a>'pattern'</a></td>
      <td><a>'patternContentUnits'</a></td>
      <td>Indicates that the user coordinate system for the
      contents of the pattern is established using the bounding
      box of the element to which the pattern is applied.</td>
    </tr>
  </edit:with>
  <tr>
    <td><a>'clipPath'</a></td>
    <td><a>'clipPath/clipPathUnits'</a></td>
    <td>Indicates that the user coordinate system for the contents of the
    <a>'clipPath'</a> element is established using the bounding box of the
    element to which the clipping path is applied.</td>
  </tr>
  <edit:with element='mask'>
    <tr>
      <td><a>'mask element'</a></td>
      <td><a>'maskUnits'</a></td>
      <td>Indicates that the attributes which define the masking region
      (<a>'x'</a>, <a>'y'</a>, <a>'width'</a>, <a>'height'</a>) is
      established using the bounding box of the element to which the mask
      is applied.</td>
    </tr>
    <tr>
      <td><a>'mask element'</a></td>
      <td><a>'maskContentUnits'</a></td>
      <td>Indicates that the user coordinate system for the contents of
      the <a>'mask element'</a> element are established using the bounding box of
      the element to which the mask is applied.</td>
    </tr>
  </edit:with>
  <edit:with element='filter'>
    <tr>
      <td><a>'filter element'</a></td>
      <td><a>'filterUnits'</a></td>
      <td>Indicates that the attributes which define the
      <a>filter effects region</a>
      (<a>'x'</a>, <a>'y'</a>, <a>'width'</a>, <a>'height'</a>) represent
      fractions or percentages of the bounding box of the element to which
      the filter is applied.</td>
    </tr>
    <tr>
      <td><a>'filter element'</a></td>
      <td><a>'primitiveUnits'</a></td>
      <td>Indicates that the various length values within the filter
      primitives represent fractions or percentages of the bounding box of
      the element to which the filter is applied.</td>
    </tr>
  </edit:with>
</table>

<p>In the discussion that follows, the term <em>applicable element</em>
is the element to which the given effect applies. For gradients and
patterns, the applicable element is the <a>graphics element</a>
which has its <a>'fill'</a> or <a>'stroke'</a> property referencing the
given gradient or pattern. (See <a
href="painting.html#InheritanceOfPaintingProperties">Inheritance
of Painting Properties</a>. For special rules concerning <a
href="text.html">text elements</a>, see the discussion of <a
href="text.html#ObjectBoundingBoxUnitsTextObjects">object
bounding box units and text elements</a>.) For clipping paths,
masks and filters, the applicable element can be either a
<a>container element</a> or a <a>graphics element</a>.</p>

<p>When keyword <span
class="attr-value">objectBoundingBox</span> is used, then the
effect is as if a supplemental transformation matrix were
inserted into the list of nested transformation matrices to
create a new user coordinate system.</p>

<p>First, the (<strong>minx</strong>,<strong>miny</strong>) and
(<strong>maxx</strong>,<strong>maxy</strong>) coordinates are
determined for the applicable element and all of its
descendants. The values <strong>minx</strong>,
<strong>miny</strong>, <strong>maxx</strong> and
<strong>maxy</strong> are determined by computing the maximum
extent of the shape of the element in X and Y with respect to
the user coordinate system for the applicable element. The
bounding box is the tightest fitting rectangle aligned with the
axes of the applicable element's user coordinate system that
entirely encloses the applicable element and its descendants.
The bounding box is computed exclusive of any values for
clipping, masking, filter effects, opacity and stroke-width.
For curved shapes, the bounding box encloses all portions of
the shape, not just end points. For <a
href="text.html#TextElement"><span
class="element-name">'text'</span></a> elements, for the
purposes of the bounding box calculation, each glyph is treated
as a separate graphics element. The calculations assume that
all glyphs occupy the full glyph cell. For example, for
horizontal text, the calculations assume that each glyph
extends vertically to the full ascent and descent values for
the font.</p>

<p>Then, coordinate (0,0) in the new user coordinate system is
mapped to the (minx,miny) corner of the tight bounding box
within the user coordinate system of the applicable element and
coordinate (1,1) in the new user coordinate system is mapped to
the (maxx,maxy) corner of the tight bounding box of the
applicable element. In most situations, the following
transformation matrix produces the correct effect:</p>

<pre>
[ (maxx-minx) 0 0 (maxy-miny) minx miny ]
</pre>

<p>When percentages are used with attributes that define the
gradient vector, the pattern tile, the filter region or the
masking region, a percentage represents the same value as the
corresponding decimal value (e.g., 50% means the same as 0.5).
If percentages are used within the content of a <a>'pattern'</a>,
<a>'clipPath'</a>, <a>'mask element'</a> or <a>'filter element'</a> element, these values
are treated according to the processing rules for percentages
as defined in <a href="coords.html#Units">Units</a>.</p>

<p>Any numeric value can be specified for values expressed as a
fraction or percentage of object bounding box units. In
particular, fractions less are zero or greater than one and
percentages less than 0% or greater than 100% can be
specified.</p>

<p>Keyword <span class="attr-value">objectBoundingBox</span>
should not be used when the geometry of the applicable element
has no width or no height, such as the case of a horizontal or
vertical line, even when the line has actual thickness when
viewed due to having a non-zero stroke width since stroke width
is ignored for bounding box calculations. When the geometry of
the applicable element has no width or height and <span
class="attr-value">objectBoundingBox</span> is specified, then
the given effect (e.g., a gradient or a filter) will be
ignored.</p>

<h2 id="IntrinsicSizing">Intrinsic sizing properties of the viewport of SVG content</h2>

<p>SVG needs to specify how to calculate some intrinsic sizing properties  to
enable inclusion within other languages. The intrinsic width and height
of the <a>viewport</a> of SVG content must be determined from the <a>'width property'</a>
and <a>'height property'</a> presentation attributes.  If either of these are not specified, a
value of <span class="attr-value">'auto'</span> must be assumed.
Specifically, percentage values <em>do not provide an intrinsic width or height.</em>.
</p>

<p>The intrinsic aspect ratio of the <a>viewport</a> of SVG content is necessary
for example, when including SVG from an <span class="element-name">'object'</span> element in HTML styled with
CSS.  It is possible (indeed, common) for an SVG graphic to have an intrinsic aspect ratio but not to have an intrinsic width or height.
The intrinsic aspect ratio must be calculated based upon the
following rules:</p>

<ul>
  <li>The aspect ratio is calculated by dividing a width by a height.</li>

  <li>If the <a>'width'</a> and <a>'height'</a> properties
  of the <a>outermost svg element</a> are both specified with
  unit identifiers (in, mm, cm, pt, pc, px, em, ex) or in <a>user units</a>, then the aspect ratio is
  calculated from the <a>'width'</a> and <a>'height'</a> properties after resolving both values to user units.</li>

  <li>If either/both of the <a>'width'</a> and <a>'height'</a> of the <a>outermost svg element</a> are in
  percentage units (or omitted), the aspect ratio is calculated from the width and
  height values of the <a>'svg/viewBox'</a> specified for the <a>current SVG document fragment</a>.
  If the <a>'svg/viewBox'</a> is not correctly specified, or set to <span class="attr-value">'none'</span>,
  the intrinsic aspect ratio cannot be calculated and is considered unspecified.</li>
</ul>

<p class='issue' data-issue="27">Is it correct that the above talks about <a>'width'</a> and <a>'height'</a>
proeprties, or should it only look at the presentation attributes?</p>

<p>Examples:</p>

<div class="example">
<div class="exampleheader">
<strong>Example:</strong> Intrinsic Aspect Ratio 1
</div>

<div class="examplesource">
<pre><![CDATA[<svg xmlns="http://www.w3.org/2000/svg"
     width="10cm" height="5cm">
  ...
</svg>]]></pre>
</div>
</div>

<p>In this example the intrinsic aspect ratio of the <a>viewport</a> is 2:1. The
intrinsic width is 10cm and the intrinsic height is 5cm.</p>

<div class="example">
<div class="exampleheader">
<strong>Example:</strong> Intrinsic Aspect Ratio 2
</div>

<div class="examplesource">
<pre><![CDATA[<svg xmlns="http://www.w3.org/2000/svg"
     width="100%" height="50%" viewBox="0 0 200 200">
  ...
</svg>]]></pre>
</div>
</div>

<p>In this example the intrinsic aspect ratio of the outermost <a>viewport</a> is
1:1. An aspect ratio calculation in this case allows embedding in an
object within a containing block that is only constrained in one direction.</p>

<div class="example">
<div class="exampleheader">
<strong>Example:</strong> Intrinsic Aspect Ratio 3
</div>

<div class="examplesource">
<pre><![CDATA[<svg xmlns="http://www.w3.org/2000/svg"
     width="10cm" viewBox="0 0 200 200">
  ...
</svg>]]></pre>
</div>
</div>

<p>In this case the intrinsic aspect ratio is 1:1.</p>

<div class="example">
<div class="exampleheader">
<strong>Example:</strong> Intrinsic Aspect Ratio 4
</div>

<div class="examplesource">
<pre><![CDATA[<svg xmlns="http://www.w3.org/2000/svg"
     width="75%" height="10cm" viewBox="0 0 200 200">
  ...
</svg>]]></pre>
</div>
</div>

<p>In this example, the intrinsic aspect ratio is 1:1.</p>

<p class="issue" data-issue="19">Add more examples for the new auto value? E.g some of the 
<a href="https://docs.google.com/presentation/d/1POUiroOBbLmXYlQKf0pIR8zVkHWH9jRVN-w8A4aNsIk/">examples</a>
provided by David Vest.</p>

<h2 id="DOMInterfaces">DOM interfaces</h2>

<h3 id="InterfaceSVGPointList">Interface SVGPointList</h3>

<p>This interface defines a list of DOMPoint objects.</p>
<p><a>SVGPointList</a> has the same attributes and methods as other
SVGxxxList interfaces. Implementers may consider using a single base class
to implement the various SVGxxxList interfaces.</p>

<p>The <a href="http://heycam.github.io/webidl/#dfn-supported-property-indices">supported property indices</a>
of an <a>SVGPointList</a> object is all non-negative integers less than
the length of the list.</p>

<pre class="idl">interface <b>SVGPointList</b> {

  readonly attribute unsigned long <a href="coords.html#__svg__SVGPointList__length">length</a>;
  readonly attribute unsigned long <a href="coords.html#__svg__SVGPointList__numberOfItems">numberOfItems</a>;

  void <a href="coords.html#__svg__SVGPointList__clear">clear</a>();
  <a>DOMPoint</a> <a href="coords.html#__svg__SVGPointList__initialize">initialize</a>(<a>DOMPoint</a> newItem);
  getter <a>DOMPoint</a> <a href="coords.html#__svg__SVGPointList__getItem">getItem</a>(unsigned long index);
  <a>DOMPoint</a> <a href="coords.html#__svg__SVGPointList__insertItemBefore">insertItemBefore</a>(<a>DOMPoint</a> newItem, unsigned long index);
  <a>DOMPoint</a> <a href="coords.html#__svg__SVGPointList__replaceItem">replaceItem</a>(<a>DOMPoint</a> newItem, unsigned long index);
  <a>DOMPoint</a> <a href="coords.html#__svg__SVGPointList__removeItem">removeItem</a>(unsigned long index);
  <a>DOMPoint</a> <a href="coords.html#__svg__SVGPointList__appendItem">appendItem</a>(<a>DOMPoint</a> newItem);
  <a href="#__svg__SVGPointList__setter">setter</a> void (unsigned long index, <a>DOMPoint</a> newItem);
};</pre>

<dl class="interface">
  <dt class="attributes-header">Attributes:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__SVGPointList__length" class="attribute first-child"><b>length</b><span class="idl-type-parenthetical"> (readonly unsigned long)</span></dt>
      <dd class="attribute">
        <div>The number of items in the list.</div>
      </dd>
      <dt id="__svg__SVGPointList__numberOfItems" class="attribute first-child"><b>numberOfItems</b><span class="idl-type-parenthetical"> (readonly unsigned long)</span></dt>
      <dd class="attribute">
        <div>The number of items in the list.</div>
      </dd>
    </dl>
  </dd>
  <dt class="operations-header">Operations:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__SVGPointList__clear" class="operation first-child">void <b>clear</b>()</dt>
      <dd class="operation">
        <div>Clears all existing current items from the list, with the result being
        an empty list.</div>
        <dl class="operation">
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the list
              cannot be modified.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGPointList__initialize" class="operation"><a>DOMPoint</a> <b>initialize</b>(<a>DOMPoint</a> <var>newItem</var>)</dt>
      <dd class="operation">
        <div>Clears all existing current items from the list and re-initializes the
        list to hold a single item specified by the parameter.  If <var>newItem</var>
        is in a list, then a new <a>SVGPoint</a> object is created with the same
        values as <var>newItem</var> and this item is inserted into the list.
        Otherwise, <var>newItem</var> itself is inserted into the list.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div><a>DOMPoint</a> <var>newItem</var></div>
                <div>The item which should become the only member of the list.</div>
              </li>
            </ol>
          </dd>
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The item being inserted into the list.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the list
              cannot be modified.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGPointList__getItem" class="operation"><a>DOMPoint</a> <b>getItem</b>(unsigned long <var>index</var>)</dt>
      <dd class="operation">
        <div>Returns the specified item from the list.  The returned item is the
        item itself and not a copy.  Any changes made to the item are
        immediately reflected in the list.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div>unsigned long <var>index</var></div>
                <div>The index of the item from the list which is to be
                returned.  The first item is number 0.</div>
              </li>
            </ol>
          </dd>
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The selected item.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code INDEX_SIZE_ERR</dt>
              <dd class="exception">Raised if the index number is
              greater than or equal to <a>numberOfItems</a>.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGPointList__insertItemBefore" class="operation"><a>DOMPoint</a> <b>insertItemBefore</b>(<a>DOMPoint</a> <var>newItem</var>, unsigned long <var>index</var>)</dt>
      <dd class="operation">
        <div>Inserts a new item into the list at the specified position. The first
        item is number 0. If <var>newItem</var> is already in a list, then
        a new <a>SVGPoint</a> object is created with the same values as
        <var>newItem</var> and this item is inserted into the list.  Otherwise,
        <var>newItem</var> itself is inserted into the list.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div><a>DOMPoint</a> <var>newItem</var></div>
                <div>The item which is to be inserted into the list.</div>
              </li>
              <li class="parameter">
                <div>unsigned long <var>index</var></div>
                <div>The index of the item before which the new item is to be
                inserted. The first item is number 0.  If the index is equal to 0,
                then the new item is inserted at the front of the list. If the index
                is greater than or equal to <a>numberOfItems</a>, then the new item is
                appended to the end of the list.</div>
              </li>
            </ol>
          </dd>
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The inserted item.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the list
              cannot be modified.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGPointList__replaceItem" class="operation"><a>DOMPoint</a> <b>replaceItem</b>(<a>DOMPoint</a> <var>newItem</var>, unsigned long <var>index</var>)</dt>
      <dd class="operation">
        <div>Replaces an existing item in the list with a new item. If
        <var>newItem</var> is already in a list, it is removed from its
        previous list before it is inserted into this list.  The inserted item
        is the item itself and not a copy.  If the item is already in this
        list, note that the index of the item to replace is <i>before</i>
        the removal of the item.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div><a>DOMPoint</a> <var>newItem</var></div>
                <div>The item which is to be inserted into the list.</div>
              </li>
              <li class="parameter">
                <div>unsigned long <var>index</var></div>
                <div>The index of the item which is to be replaced. The first
                item is number 0.</div>
              </li>
            </ol>
          </dd>
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The inserted item.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the list
              cannot be modified.</dd>
              <dt class="exception"><a>DOMException</a>, code INDEX_SIZE_ERR</dt>
              <dd class="exception">Raised if the index number is
              greater than or equal to <a>numberOfItems</a>.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGPointList__removeItem" class="operation"><a>DOMPoint</a> <b>removeItem</b>(unsigned long <var>index</var>)</dt>
      <dd class="operation">
        <div>Removes an existing item from the list.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div>unsigned long <var>index</var></div>
                <div>The index of the item which is to be removed. The first
                item is number 0.</div>
              </li>
            </ol>
          </dd>
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The removed item.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the list
              cannot be modified.</dd>
              <dt class="exception"><a>DOMException</a>, code INDEX_SIZE_ERR</dt>
              <dd class="exception">Raised if the index number is
              greater than or equal to <a>numberOfItems</a>.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGPointList__appendItem" class="operation"><a>DOMPoint</a> <b>appendItem</b>(<a>DOMPoint</a> <var>newItem</var>)</dt>
      <dd class="operation">
        <div>Inserts a new item at the end of the list. If <var>newItem</var> is
        already in a list, it is removed from its previous list before it is
        inserted into this list.  The inserted item is the item itself and
        not a copy.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div><a>DOMPoint</a> <var>newItem</var></div>
                <div>The item which is to be inserted. The first item is
                number 0.</div>
              </li>
            </ol>
          </dd>
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The inserted item.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the list
              cannot be modified.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGPointList__setter" class="operation"><b>setter</b> void (unsigned long <var>index</var>, <a>DOMPoint</a> <var>newItem</var>)</dt>
      <dd class="operation">
        <div>Replaces the item at index <var>index</var> with <var>newItem</var>.</div>
      </dd>
    </dl>
  </dd>
</dl>

<h3 id="InterfaceSVGTransform">Interface SVGTransform</h3>

<p><a>SVGTransform</a> is the interface for one of the component
transformations within an <a>SVGTransformList</a>; thus, an
<a>SVGTransform</a> object corresponds to a single component (e.g.,
<span class="attr-value">'scale(…)'</span> or
<span class="attr-value">'matrix(…)'</span>) within a <a>'transform'</a>
attribute specification.</p>

<pre class="idl">[<a href="#__svg__SVGTransform__constructor">Constructor</a>,
 <a href="#__svg__SVGTransform__constructor1">Constructor</a>(DOMMatrixReadOnly matrix),
 <a href="#__svg__SVGTransform__constructor2">Constructor</a>(DOMString value)]
interface <b>SVGTransform</b> {

  // Transform Types
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_UNKNOWN">SVG_TRANSFORM_UNKNOWN</a> = 0;
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_MATRIX">SVG_TRANSFORM_MATRIX</a> = 1;
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_TRANSLATE">SVG_TRANSFORM_TRANSLATE</a> = 2;
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_SCALE">SVG_TRANSFORM_SCALE</a> = 3;
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_ROTATE">SVG_TRANSFORM_ROTATE</a> = 4;
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_SKEWX">SVG_TRANSFORM_SKEWX</a> = 5;
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_SKEWY">SVG_TRANSFORM_SKEWY</a> = 6;

  readonly attribute unsigned short <a href="coords.html#__svg__SVGTransform__type">type</a>;
  readonly attribute <a>DOMMatrixReadOnly</a> <a href="coords.html#__svg__SVGTransform__matrix">matrix</a>;
  readonly attribute float <a href="coords.html#__svg__SVGTransform__angle">angle</a>;

  void <a href="coords.html#__svg__SVGTransform__setMatrix">setMatrix</a>(<a>DOMMatrixReadOnly</a> matrix);
  void <a href="coords.html#__svg__SVGTransform__setTranslate">setTranslate</a>(float tx, float ty);
  void <a href="coords.html#__svg__SVGTransform__setScale">setScale</a>(float sx, float sy);
  void <a href="coords.html#__svg__SVGTransform__setRotate">setRotate</a>(float angle, float cx, float cy);
  void <a href="coords.html#__svg__SVGTransform__setSkewX">setSkewX</a>(float angle);
  void <a href="coords.html#__svg__SVGTransform__setSkewY">setSkewY</a>(float angle);
};</pre>

<dl class="interface">
  <dt class="operations-header">Constructors:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__SVGTransform__constructor" class="operation first-child"><b>SVGTransform</b>()</dt>
      <dd class="operation">
        <div>Creates a new <a>SVGTransform</a> object whose type attribute is
        set to SVG_TRANSFORM_MATRIX and whose matrix attribute is set to an
        <a>DOMMatrixReadOnly</a> object that represents the identity matrix.</div>
      </dd>
      <dt id="__svg__SVGTransform__constructor1" class="operation first-child"><b>SVGTransform</b>(<a>DOMMatrixReadOnly</a> <var>matrix</var>)</dt>
      <dd class="operation">
        <div>Creates a new <a>SVGTransform</a> object whose type attribute is
        set to SVG_TRANSFORM_MATRIX and whose matrix attribute is set to an
        <a>DOMMatrixReadOnly</a> object whose attributes are all initialized to be the
        same as the corresponding attributes in <var>matrix</var>.</div>
      </dd>
      <dt id="__svg__SVGTransform__constructor2" class="operation first-child"><b>SVGTransform</b>(DOMString <var>value</var>)</dt>
      <dd class="operation">
        <div>
          <p>Creates a new <a>SVGTransform</a> object whose type and matrix
          attributes are set to values determined by parsing <var>value</var>
          as a <a>&lt;transform-function></a>.</p>
          <p>If <var>value</var> could not be parsed as a
          <a>&lt;transform-function></a>, then a <a href="http://heycam.github.io/webidl/#syntaxerror">SyntaxError</a>
          is thrown.</p>
        </div>
      </dd>
    </dl>
  </dd>
  <dt class="constants-header">Constants in group “Transform Types”:</dt>
  <dd>
    <dl class="constants">
      <dt id="__svg__SVGTransform__SVG_TRANSFORM_UNKNOWN" class="constant first-child"><b>SVG_TRANSFORM_UNKNOWN</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>The unit type is not one of predefined types. It is invalid to attempt
        to define a new value of this type or to attempt to switch an existing
        value to this type.</div>
      </dd>
      <dt id="__svg__SVGTransform__SVG_TRANSFORM_MATRIX" class="constant"><b>SVG_TRANSFORM_MATRIX</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>A <span class="attr-value">'matrix(…)'</span> transformation.</div>
      </dd>
      <dt id="__svg__SVGTransform__SVG_TRANSFORM_TRANSLATE" class="constant"><b>SVG_TRANSFORM_TRANSLATE</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>A <span class="attr-value">'translate(…)'</span> transformation.</div>
      </dd>
      <dt id="__svg__SVGTransform__SVG_TRANSFORM_SCALE" class="constant"><b>SVG_TRANSFORM_SCALE</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>A <span class="attr-value">'scale(…)'</span> transformation.</div>
      </dd>
      <dt id="__svg__SVGTransform__SVG_TRANSFORM_ROTATE" class="constant"><b>SVG_TRANSFORM_ROTATE</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>A <span class="attr-value">'rotate(…)'</span> transformation.</div>
      </dd>
      <dt id="__svg__SVGTransform__SVG_TRANSFORM_SKEWX" class="constant"><b>SVG_TRANSFORM_SKEWX</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>A <span class="attr-value">'skewX(…)'</span> transformation.</div>
      </dd>
      <dt id="__svg__SVGTransform__SVG_TRANSFORM_SKEWY" class="constant"><b>SVG_TRANSFORM_SKEWY</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>A <span class="attr-value">'skewY(…)'</span> transformation.</div>
      </dd>
    </dl>
  </dd>
  <dt class="attributes-header">Attributes:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__SVGTransform__type" class="attribute first-child"><b>type</b><span class="idl-type-parenthetical"> (readonly unsigned short)</span></dt>
      <dd class="attribute">
        <div>The type of the value as specified by one of the SVG_TRANSFORM_*
        constants defined on this interface.</div>
      </dd>
      <dt id="__svg__SVGTransform__matrix" class="attribute"><b>matrix</b><span class="idl-type-parenthetical"> (readonly <a>DOMMatrixReadOnly</a>)</span></dt>
      <dd class="attribute">
        <div>
          <p>The matrix that represents this transformation.  The matrix
          object is live, meaning that any changes made to the SVGTransform
          object are immediately reflected in the matrix object and vice
          versa.  In case the matrix object is changed directly (i.e.,
          without using the methods on the SVGTransform interface itself)
          then the type of the SVGTransform changes to SVG_TRANSFORM_MATRIX.</p>
          <ul>
            <li>For SVG_TRANSFORM_MATRIX, the matrix contains the
            <var>a</var>, <var>b</var>, <var>c</var>, <var>d</var>, <var>e</var>,
            <var>f</var> values supplied by the user.</li>
            <li>For SVG_TRANSFORM_TRANSLATE, <var>e</var> and <var>f</var>
            represent the translation amounts (<var>a</var>=1, <var>b</var>=0,
            <var>c</var>=0 and <var>d</var>=1).</li>
            <li>For SVG_TRANSFORM_SCALE, <var>a</var> and <var>d</var>
            represent the scale amounts (<var>b</var>=0, <var>c</var>=0,
            <var>e</var>=0 and <var>f</var>=0).</li>
            <li>For SVG_TRANSFORM_SKEWX and SVG_TRANSFORM_SKEWY,
            <var>a</var>, <var>b</var>, <var>c</var> and <var>d</var>
            represent the matrix which will result in the given skew
            (<var>e</var>=0 and <var>f</var>=0).</li>
            <li>For SVG_TRANSFORM_ROTATE,
            <var>a</var>, <var>b</var>, <var>c</var>, <var>d</var>,
            <var>e</var> and <var>f</var> together represent the matrix
            which will result in the given rotation.  When the rotation is around
            the center point (0, 0), <var>e</var> and <var>f</var> will be zero.</li>
          </ul>
        </div>
      </dd>
      <dt id="__svg__SVGTransform__angle" class="attribute"><b>angle</b><span class="idl-type-parenthetical"> (readonly float)</span></dt>
      <dd class="attribute">
        <div>
          <p>A convenience attribute for SVG_TRANSFORM_ROTATE,
          SVG_TRANSFORM_SKEWX and SVG_TRANSFORM_SKEWY.  It holds
          the angle that was specified.</p>
          <p>For SVG_TRANSFORM_MATRIX, SVG_TRANSFORM_TRANSLATE and
          SVG_TRANSFORM_SCALE, <a>angle</a> will be zero.</p>
        </div>
      </dd>
    </dl>
  </dd>
  <dt class="operations-header">Operations:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__SVGTransform__setMatrix" class="operation first-child">void <b>setMatrix</b>(<a>DOMMatrixReadOnly</a> <var>matrix</var>)</dt>
      <dd class="operation">
        <div>
          <p xmlns:edit="http://xmlns.grorg.org/SVGT12NG/">Sets the transform type to SVG_TRANSFORM_MATRIX, with parameter
          <var>matrix</var> defining the new transformation.  The values
          from the parameter <var>matrix</var> are copied, the <var>matrix</var>
          parameter does not replace <a edit:format="expanded">SVGTransform::matrix</a>.</p>
        </div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div><a>DOMMatrixReadOnly</a> <var>matrix</var></div>
                <div>The new matrix for the transformation.</div>
              </li>
            </ol>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransform__setTranslate" class="operation">void <b>setTranslate</b>(float <var>tx</var>, float <var>ty</var>)</dt>
      <dd class="operation">
        <div>Sets the transform type to SVG_TRANSFORM_TRANSLATE, with parameters
        <var>tx</var> and <var>ty</var> defining the translation amounts.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div>float <var>tx</var></div>
                <div>The translation amount in X.</div>
              </li>
              <li class="parameter">
                <div>float <var>ty</var></div>
                <div>The translation amount in Y.</div>
              </li>
            </ol>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransform__setScale" class="operation">void <b>setScale</b>(float <var>sx</var>, float <var>sy</var>)</dt>
      <dd class="operation">
        <div>Sets the transform type to SVG_TRANSFORM_SCALE, with parameters
        <var>sx</var> and <var>sy</var> defining the scale amounts.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div>float <var>sx</var></div>
                <div>The scale amount in X.</div>
              </li>
              <li class="parameter">
                <div>float <var>sy</var></div>
                <div>The scale amount in Y.</div>
              </li>
            </ol>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransform__setRotate" class="operation">void <b>setRotate</b>(float <var>angle</var>, float <var>cx</var>, float <var>cy</var>)</dt>
      <dd class="operation">
        <div>Sets the transform type to SVG_TRANSFORM_ROTATE, with parameter
        <var>angle</var> defining the rotation angle and parameters
        <var>cx</var> and <var>cy</var> defining the optional center of rotation.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div>float <var>angle</var></div>
                <div>The rotation angle.</div>
              </li>
              <li class="parameter">
                <div>float <var>cx</var></div>
                <div>The x coordinate of center of rotation.</div>
              </li>
              <li class="parameter">
                <div>float <var>cy</var></div>
                <div>The y coordinate of center of rotation.</div>
              </li>
            </ol>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransform__setSkewX" class="operation">void <b>setSkewX</b>(float <var>angle</var>)</dt>
      <dd class="operation">
        <div>Sets the transform type to SVG_TRANSFORM_SKEWX, with parameter
        <var>angle</var> defining the amount of skew.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div>float <var>angle</var></div>
                <div>The skew angle.</div>
              </li>
            </ol>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransform__setSkewY" class="operation">void <b>setSkewY</b>(float <var>angle</var>)</dt>
      <dd class="operation">
        <div>Sets the transform type to SVG_TRANSFORM_SKEWY, with parameter
        <var>angle</var> defining the amount of skew.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div>float <var>angle</var></div>
                <div>The skew angle.</div>
              </li>
            </ol>
          </dd>
        </dl>
      </dd>
    </dl>
  </dd>
</dl>

<h3 id="InterfaceSVGTransformList">Interface SVGTransformList</h3>

<p class="issue" data-issue="20">This section needs to be updated to describe
how it reflects the value of the <a>'transform'</a> property,
or just defer to css3-tranforms if everything is defined there.</p>

<p>This interface defines a list of SVGTransform objects.</p>

<p>The <a>SVGTransformList</a> and <a>SVGTransform</a> interfaces correspond
to the various attributes which specify a set of transformations, such as
the <a>'transform'</a> property which is available for many of SVG's elements.</p>

<p><a>SVGTransformList</a> has the same attributes and methods as other
SVGxxxList interfaces. Implementers may consider using a single base class
to implement the various SVGxxxList interfaces.</p>

<p>The <a href="http://heycam.github.io/webidl/#dfn-supported-property-indices">supported property indices</a>
of an <a>SVGTransformList</a> object is all non-negative integers less than
the length of the list.</p>

<p id="ReadOnlyTransformList">An <a>SVGTransformList</a> object can be designated as <em>read only</em>,
which means that attempts to modify the object will result in an exception
being thrown, as described below.</p>

<pre class="idl">interface <b>SVGTransformList</b> {

  readonly attribute unsigned long <a href="coords.html#__svg__SVGTransformList__length">length</a>;
  readonly attribute unsigned long <a href="coords.html#__svg__SVGTransformList__numberOfItems">numberOfItems</a>;

  void <a href="coords.html#__svg__SVGTransformList__clear">clear</a>();
  <a>SVGTransform</a> <a href="coords.html#__svg__SVGTransformList__initialize">initialize</a>(<a>SVGTransform</a> newItem);
  getter <a>SVGTransform</a> <a href="coords.html#__svg__SVGTransformList__getItem">getItem</a>(unsigned long index);
  <a>SVGTransform</a> <a href="coords.html#__svg__SVGTransformList__insertItemBefore">insertItemBefore</a>(<a>SVGTransform</a> newItem, unsigned long index);
  <a>SVGTransform</a> <a href="coords.html#__svg__SVGTransformList__replaceItem">replaceItem</a>(<a>SVGTransform</a> newItem, unsigned long index);
  <a>SVGTransform</a> <a href="coords.html#__svg__SVGTransformList__removeItem">removeItem</a>(unsigned long index);
  <a>SVGTransform</a> <a href="coords.html#__svg__SVGTransformList__appendItem">appendItem</a>(<a>SVGTransform</a> newItem);
  <a>SVGTransform</a> <a href="coords.html#__svg__SVGTransformList__createSVGTransformFromMatrix">createSVGTransformFromMatrix</a>(<a>DOMMatrixReadOnly</a> matrix);
  <a>SVGTransform</a>? <a href="coords.html#__svg__SVGTransformList__consolidate">consolidate</a>();
  <a href="#__svg__SVGTransformList__setter">setter</a> void (unsigned long index, <a>SVGTransform</a> newItem);
};</pre>

<dl class="interface">
  <dt class="attributes-header">Attributes:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__SVGTransformList__length" class="attribute first-child"><b>length</b><span class="idl-type-parenthetical"> (readonly unsigned long)</span></dt>
      <dd class="attribute">
        <div>The number of items in the list.</div>
      </dd>
      <dt id="__svg__SVGTransformList__numberOfItems" class="attribute first-child"><b>numberOfItems</b><span class="idl-type-parenthetical"> (readonly unsigned long)</span></dt>
      <dd class="attribute">
        <div>The number of items in the list.</div>
      </dd>
    </dl>
  </dd>
  <dt class="operations-header">Operations:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__SVGTransformList__clear" class="operation first-child">void <b>clear</b>()</dt>
      <dd class="operation">
        <div>Clears all existing current items from the list, with the result being
        an empty list.</div>
        <dl class="operation">
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the list is
              <a href="#ReadOnlyTransformList">read only</a>.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransformList__initialize" class="operation"><a>SVGTransform</a> <b>initialize</b>(<a>SVGTransform</a> <var>newItem</var>)</dt>
      <dd class="operation">
        <div>Clears all existing current items from the list and re-initializes the
        list to hold a single item specified by the parameter.  If <var>newItem</var>
        is in a list, then a new <a>SVGTransform</a> object is created with the same
        values as <var>newItem</var> and this item is inserted into the list.
        Otherwise, <var>newItem</var> itself is inserted into the list.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div><a>SVGTransform</a> <var>newItem</var></div>
                <div>The item which should become the only member of the list.</div>
              </li>
            </ol>
          </dd>
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The item being inserted into the list.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the list is
              <a href="#ReadOnlyTransformList">read only</a>.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransformList__getItem" class="operation"><a>SVGTransform</a> <b>getItem</b>(unsigned long <var>index</var>)</dt>
      <dd class="operation">
        <div>Returns the specified item from the list.  The returned item is the
        item itself and not a copy.  Any changes made to the item are
        immediately reflected in the list.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div>unsigned long <var>index</var></div>
                <div>The index of the item from the list which is to be
                returned.  The first item is number 0.</div>
              </li>
            </ol>
          </dd>
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The selected item.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code INDEX_SIZE_ERR</dt>
              <dd class="exception">Raised if the index number is
              greater than or equal to <a>numberOfItems</a>.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransformList__insertItemBefore" class="operation"><a>SVGTransform</a> <b>insertItemBefore</b>(<a>SVGTransform</a> <var>newItem</var>, unsigned long <var>index</var>)</dt>
      <dd class="operation">
        <div>Inserts a new item into the list at the specified position. The first
        item is number 0. If <var>newItem</var> is already in a list, then
        a new <a>SVGTransform</a> object is created with the same values as
        <var>newItem</var> and this item is inserted into the list.  Otherwise,
        <var>newItem</var> itself is inserted into the list.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div><a>SVGTransform</a> <var>newItem</var></div>
                <div>The item which is to be inserted into the list.</div>
              </li>
              <li class="parameter">
                <div>unsigned long <var>index</var></div>
                <div>The index of the item before which the new item is to be
                inserted. The first item is number 0.  If the index is equal to 0,
                then the new item is inserted at the front of the list. If the index
                is greater than or equal to <a>numberOfItems</a>, then the new item is
                appended to the end of the list.</div>
              </li>
            </ol>
          </dd>
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The inserted item.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the list is
              <a href="#ReadOnlyTransformList">read only</a>.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransformList__replaceItem" class="operation"><a>SVGTransform</a> <b>replaceItem</b>(<a>SVGTransform</a> <var>newItem</var>, unsigned long <var>index</var>)</dt>
      <dd class="operation">
        <div>Replaces an existing item in the list with a new item. If
        <var>newItem</var> is already in a list, then a new <a>SVGTransform</a>
        object is created with the same values as <var>newItem</var> and
        this item is inserted into the list.  Otherwise, <var>newItem</var>
        itself is inserted into the list.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div><a>SVGTransform</a> <var>newItem</var></div>
                <div>The item which is to be inserted into the list.</div>
              </li>
              <li class="parameter">
                <div>unsigned long <var>index</var></div>
                <div>The index of the item which is to be replaced. The first
                item is number 0.</div>
              </li>
            </ol>
          </dd>
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The inserted item.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the list is
              <a href="#ReadOnlyTransformList">read only</a>.</dd>
              <dt class="exception"><a>DOMException</a>, code INDEX_SIZE_ERR</dt>
              <dd class="exception">Raised if the index number is
              greater than or equal to <a>numberOfItems</a>.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransformList__removeItem" class="operation"><a>SVGTransform</a> <b>removeItem</b>(unsigned long <var>index</var>)</dt>
      <dd class="operation">
        <div>Removes an existing item from the list.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div>unsigned long <var>index</var></div>
                <div>The index of the item which is to be removed. The first
                item is number 0.</div>
              </li>
            </ol>
          </dd>
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The removed item.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the list is
              <a href="#ReadOnlyTransformList">read only</a>.</dd>
              <dt class="exception"><a>DOMException</a>, code INDEX_SIZE_ERR</dt>
              <dd class="exception">Raised if the index number is
              greater than or equal to <a>numberOfItems</a>.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransformList__appendItem" class="operation"><a>SVGTransform</a> <b>appendItem</b>(<a>SVGTransform</a> <var>newItem</var>)</dt>
      <dd class="operation">
        <div>Inserts a new item at the end of the list. If <var>newItem</var> is
        already in a list, then a new <a>SVGTransform</a> object is created
        with the same values as <var>newItem</var> and this item is inserted
        into the list.  Otherwise, <var>newItem</var> itself is inserted into
        the list.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div><a>SVGTransform</a> <var>newItem</var></div>
                <div>The item which is to be inserted. The first item is
                number 0.</div>
              </li>
            </ol>
          </dd>
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The inserted item.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the list is
              <a href="#ReadOnlyTransformList">read only</a>.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransformList__createSVGTransformFromMatrix" class="operation"><a>SVGTransform</a> <b>createSVGTransformFromMatrix</b>(<a>DOMMatrixReadOnly</a> <var>matrix</var>)</dt>
      <dd class="operation">
        <div>
          <p xmlns:edit="http://xmlns.grorg.org/SVGT12NG/">Creates an <a>SVGTransform</a> object which is initialized to transform
          of type SVG_TRANSFORM_MATRIX and whose values are the given matrix.
          The values from the parameter <var>matrix</var> are copied, the
          <var>matrix</var> parameter is not adopted as
          <a edit:format="expanded">SVGTransform::matrix</a>.</p>
        </div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div><a>DOMMatrixReadOnly</a> <var>matrix</var></div>
                <div>The matrix which defines the transformation.</div>
              </li>
            </ol>
          </dd>
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The returned <a>SVGTransform</a> object.</div>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransformList__consolidate" class="operation"><a>SVGTransform</a> <b>consolidate</b>()</dt>
      <dd class="operation">
        <div>Consolidates the list of separate <a>SVGTransform</a> objects by
        multiplying the equivalent transformation matrices together to result
        in a list consisting of a single <a>SVGTransform</a> object of type
        SVG_TRANSFORM_MATRIX.  The consolidation operation creates new
        SVGTransform object as the first and only item in the list.  The
        returned item is the item itself and not a copy.  Any changes made
        to the item are immediately reflected in the list.</div>
        <dl class="operation">
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The resulting <a>SVGTransform</a> object which becomes single
            item in the list. If the list was empty, then a value of null is
            returned.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the list is
              <a href="#ReadOnlyTransformList">read only</a>.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGTransformList__setter" class="operation"><b>setter</b> void (unsigned long <var>index</var>, <a>SVGTransform</a> <var>newItem</var>)</dt>
      <dd class="operation">
        <div>Replaces the item at index <var>index</var> with <var>newItem</var>.
        If the list is <a href="#ReadOnlyTransformList">read only</a>, then a
        <a href="http://heycam.github.io/webidl/#nomodificationallowederror">NoModificationAllowedError</a>
        is thrown.</div>
      </dd>
    </dl>
  </dd>
</dl>

<h3 id="InterfaceSVGAnimatedTransformList">Interface SVGAnimatedTransformList</h3>

Used for the various attributes which specify a set of transformations,
such as the <a>'transform'</a> property which is available for many of
SVG's elements, and which can be animated.

<pre class="idl">interface <b>SVGAnimatedTransformList</b> {
  readonly attribute <a>SVGTransformList</a> <a href="coords.html#__svg__SVGAnimatedTransformList__baseVal">baseVal</a>;
  readonly attribute <a>SVGTransformList</a> <a href="coords.html#__svg__SVGAnimatedTransformList__animVal">animVal</a>;
};</pre>

<dl class="interface">
  <dt class="attributes-header">Attributes:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__SVGAnimatedTransformList__baseVal" class="attribute first-child"><b>baseVal</b><span class="idl-type-parenthetical"> (readonly <a>SVGTransformList</a>)</span></dt>
      <dd class="attribute">
        <div>The base value of the given attribute before applying any animations.</div>
      </dd>
      <dt id="__svg__SVGAnimatedTransformList__animVal" class="attribute"><b>animVal</b><span class="idl-type-parenthetical"> (readonly <a>SVGTransformList</a>)</span></dt>
      <dd class="attribute">
        <div>A <a href="#ReadOnlyTransformList">read only</a> <a>SVGTransformList</a> representing the current animated value of
        the given attribute.  If the given attribute is not currently being
        animated, then the <a>SVGTransformList</a> will have the same contents
        as <a>baseVal</a>.  The object referenced by <a>animVal</a> will always
        be distinct from the one referenced by <a>baseVal</a>, even when
        the attribute is not animated.</div>
      </dd>
    </dl>
  </dd>
</dl>

<h3 id="InterfaceSVGPreserveAspectRatio">Interface SVGPreserveAspectRatio</h3>

The <a>SVGPreserveAspectRatio</a> interface corresponds to the
<a>'preserveAspectRatio'</a> attribute, which is available for some of
SVG's elements.

<p id="ReadOnlyPreserveAspectRatio">An <a>SVGPreserveAspectRatio</a> object can be designated as <em>read only</em>,
which means that attempts to modify the object will result in an exception
being thrown, as described below.</p>

<pre class="idl">interface <b>SVGPreserveAspectRatio</b> {

  // Alignment Types
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_UNKNOWN">SVG_PRESERVEASPECTRATIO_UNKNOWN</a> = 0;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_NONE">SVG_PRESERVEASPECTRATIO_NONE</a> = 1;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMINYMIN">SVG_PRESERVEASPECTRATIO_XMINYMIN</a> = 2;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMIDYMIN">SVG_PRESERVEASPECTRATIO_XMIDYMIN</a> = 3;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMAXYMIN">SVG_PRESERVEASPECTRATIO_XMAXYMIN</a> = 4;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMINYMID">SVG_PRESERVEASPECTRATIO_XMINYMID</a> = 5;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMIDYMID">SVG_PRESERVEASPECTRATIO_XMIDYMID</a> = 6;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMAXYMID">SVG_PRESERVEASPECTRATIO_XMAXYMID</a> = 7;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMINYMAX">SVG_PRESERVEASPECTRATIO_XMINYMAX</a> = 8;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMIDYMAX">SVG_PRESERVEASPECTRATIO_XMIDYMAX</a> = 9;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMAXYMAX">SVG_PRESERVEASPECTRATIO_XMAXYMAX</a> = 10;

  // Meet-or-slice Types
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_UNKNOWN">SVG_MEETORSLICE_UNKNOWN</a> = 0;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_MEET">SVG_MEETORSLICE_MEET</a> = 1;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_SLICE">SVG_MEETORSLICE_SLICE</a> = 2;

  attribute unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__align">align</a>;
  attribute unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__meetOrSlice">meetOrSlice</a>;
};</pre>

<dl class="interface">
  <dt class="constants-header">Constants in group “Alignment Types”:</dt>
  <dd>
    <dl class="constants">
      <dt id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_UNKNOWN" class="constant first-child"><b>SVG_PRESERVEASPECTRATIO_UNKNOWN</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>The enumeration was set to a value that is not one of predefined types.
        It is invalid to attempt to define a new value of this type or to
        attempt to switch an existing value to this type.</div>
      </dd>
      <dt id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_NONE" class="constant"><b>SVG_PRESERVEASPECTRATIO_NONE</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>Corresponds to value <span class="attr-value">'none'</span> for attribute
        <a>'preserveAspectRatio'</a>.</div>
      </dd>
      <dt id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMINYMIN" class="constant"><b>SVG_PRESERVEASPECTRATIO_XMINYMIN</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>Corresponds to value <span class="attr-value">'xMinYMin'</span> for attribute
        <a>'preserveAspectRatio'</a>.</div>
      </dd>
      <dt id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMIDYMIN" class="constant"><b>SVG_PRESERVEASPECTRATIO_XMIDYMIN</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>Corresponds to value <span class="attr-value">'xMidYMin'</span> for attribute
        <a>'preserveAspectRatio'</a>.</div>
      </dd>
      <dt id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMAXYMIN" class="constant"><b>SVG_PRESERVEASPECTRATIO_XMAXYMIN</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>Corresponds to value <span class="attr-value">'xMaxYMin'</span> for attribute
        <a>'preserveAspectRatio'</a>.</div>
      </dd>
      <dt id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMINYMID" class="constant"><b>SVG_PRESERVEASPECTRATIO_XMINYMID</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>Corresponds to value <span class="attr-value">'XMinYMid'</span> for attribute
        <a>'preserveAspectRatio'</a>.</div>
      </dd>
      <dt id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMIDYMID" class="constant"><b>SVG_PRESERVEASPECTRATIO_XMIDYMID</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>Corresponds to value <span class="attr-value">'xMidYMid'</span> for attribute
        <a>'preserveAspectRatio'</a>.</div>
      </dd>
      <dt id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMAXYMID" class="constant"><b>SVG_PRESERVEASPECTRATIO_XMAXYMID</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>Corresponds to value <span class="attr-value">'xMaxYMid'</span> for attribute
        <a>'preserveAspectRatio'</a>.</div>
      </dd>
      <dt id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMINYMAX" class="constant"><b>SVG_PRESERVEASPECTRATIO_XMINYMAX</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>Corresponds to value <span class="attr-value">'xMinYMax'</span> for attribute
        <a>'preserveAspectRatio'</a>.</div>
      </dd>
      <dt id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMIDYMAX" class="constant"><b>SVG_PRESERVEASPECTRATIO_XMIDYMAX</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>Corresponds to value <span class="attr-value">'xMidYMax'</span> for attribute
        <a>'preserveAspectRatio'</a>.</div>
      </dd>
      <dt id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMAXYMAX" class="constant"><b>SVG_PRESERVEASPECTRATIO_XMAXYMAX</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>Corresponds to value <span class="attr-value">'xMaxYMax'</span> for attribute
        <a>'preserveAspectRatio'</a>.</div>
      </dd>
    </dl>
  </dd>
  <dt class="constants-header">Constants in group “Meet-or-slice Types”:</dt>
  <dd>
    <dl class="constants">
      <dt id="__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_UNKNOWN" class="constant first-child"><b>SVG_MEETORSLICE_UNKNOWN</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>The enumeration was set to a value that is not one of predefined types.
        It is invalid to attempt to define a new value of this type or to
        attempt to switch an existing value to this type.</div>
      </dd>
      <dt id="__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_MEET" class="constant"><b>SVG_MEETORSLICE_MEET</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>Corresponds to value <span class="attr-value">'meet'</span> for
        attribute <a>'preserveAspectRatio'</a>.</div>
      </dd>
      <dt id="__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_SLICE" class="constant"><b>SVG_MEETORSLICE_SLICE</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="constant">
        <div>Corresponds to value <span class="attr-value">'slice'</span> for
        attribute <a>'preserveAspectRatio'</a>.</div>
      </dd>
    </dl>
  </dd>
  <dt class="attributes-header">Attributes:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__SVGPreserveAspectRatio__align" class="attribute first-child"><b>align</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="attribute">
        <div>The type of the alignment value as specified by one of the
        SVG_PRESERVEASPECTRATIO_* constants defined on this interface.</div>
        <dl class="attribute">
          <dt class="exceptions-header">Exceptions on setting</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the object is <a href="#ReadOnlyPreserveAspectRatio">read only</a>.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGPreserveAspectRatio__meetOrSlice" class="attribute"><b>meetOrSlice</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt>
      <dd class="attribute">
        <div>The type of the meet-or-slice value as specified by one of the
        SVG_MEETORSLICE_* constants defined on this interface.</div>
        <dl class="attribute">
          <dt class="exceptions-header">Exceptions on setting</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception"><a>DOMException</a>, code NO_MODIFICATION_ALLOWED_ERR</dt>
              <dd class="exception">Raised when the object is
              <a href="#ReadOnlyPreserveAspectRatio">read only</a>.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
    </dl>
  </dd>
</dl>

<h3 id="InterfaceSVGAnimatedPreserveAspectRatio">Interface SVGAnimatedPreserveAspectRatio</h3>

Used for attributes of type <a>SVGPreserveAspectRatio</a> which can be
animated. 

<pre class="idl">interface <b>SVGAnimatedPreserveAspectRatio</b> {
  readonly attribute <a>SVGPreserveAspectRatio</a> <a href="coords.html#__svg__SVGAnimatedPreserveAspectRatio__baseVal">baseVal</a>;
  readonly attribute <a>SVGPreserveAspectRatio</a> <a href="coords.html#__svg__SVGAnimatedPreserveAspectRatio__animVal">animVal</a>;
};</pre>

<dl class="interface">
  <dt class="attributes-header">Attributes:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__SVGAnimatedPreserveAspectRatio__baseVal" class="attribute first-child"><b>baseVal</b><span class="idl-type-parenthetical"> (readonly <a>SVGPreserveAspectRatio</a>)</span></dt>
      <dd class="attribute">
        <div>The base value of the given attribute before applying any animations.</div>
      </dd>
      <dt id="__svg__SVGAnimatedPreserveAspectRatio__animVal" class="attribute"><b>animVal</b><span class="idl-type-parenthetical"> (readonly <a>SVGPreserveAspectRatio</a>)</span></dt>
      <dd class="attribute">
        <div>A <a href="#ReadOnlyPreserveAspectRatio">read only</a> <a>SVGPreserveAspectRatio</a> representing the current animated value of
        the given attribute.  If the given attribute is not currently being
        animated, then the <a>SVGPreserveAspectRatio</a> will have the same contents
        as <a>baseVal</a>.  The object referenced by <a>animVal</a> will always
        be distinct from the one referenced by <a>baseVal</a>, even when
        the attribute is not animated.</div>
      </dd>
    </dl>
  </dd>
</dl>

</body>
</html>
